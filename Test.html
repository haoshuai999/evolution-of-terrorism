<!DOCTYPE html>
<html>
<meta charset="utf-8">
<body>
<script src="https://d3js.org/d3.v3.min.js"></script>
<script>

var width = 1000,
    height = 1000;

var nodes1 = [];
var nodes2 = [];

var color1 = '#000000';
var color2 = '#000000';

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

var force = d3.layout.force()
    .charge(-10)
    .size([width, height])
    .nodes(nodes1)
    .on("tick", tick)
    .start();

var force2 = d3.layout.force()
    .charge(-10)
    .size([width, height])
    .nodes(nodes2)
    .on("tick", tick)
    .start();

function tick() {
  svg.selectAll(".class1")
      .attr("cx", function(d) { return d.x; })
      .attr("cy", function(d) { return d.y; });
  svg.selectAll(".class2")
      .attr("cx", function(d) { return d.x; })
      .attr("cy", function(d) { return d.y; });
}

var interval = setInterval(function() {
  var d = {
    x: width / 2 + 2 * Math.random() - 1,
    y: height / 2 + 2 * Math.random() - 1
  };

  svg.append("circle")
      .data([d])
      .attr("r", 1e-6)
      .attr('class', function(d) {
        var c = "";  
        if (nodes1.length % 2 == 0) {
            c = "class1";
        }
        else {
            c = "class2";
        }
        return c;
      })
    .transition()
      .ease(Math.sqrt)
      .attr("r", 4.5);

  svg.selectAll('.class1')
    .attr('fill', color1)

  svg.selectAll('.class2')
    .attr('fill', color2)

  if (nodes1.push(d) > 500) clearInterval(interval);
  if (nodes2.push(d) > 500) clearInterval(interval);
  force.start();
  force2.start();
}, 1);

</script>
</body>
</html>